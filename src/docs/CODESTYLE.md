# Правила организации кода проекта

## Форматирование кода

Для форматирования кода в проекте настроен eslint и prettier.

## Деплой

Для деплоя настроены экшены.\
Деплой делается в netlify.

## Структура папок и файлов

Разработка ведется по компонентам.\
Минимальная структура:
 - нужно создать папку ComponentName внутри `src\components` с названием компонента с заглавной буквы
 - внутри с таким же именем файл `ComponentName.js` где и будет вестись основная работа
 - добавить `index.js` с содержимым `export { default as ComponentName } from './ComponentName';`
 - в `src/components/index.js` добавить `export * from './ComponentName';`

Так как мы разделяем стили и логику, то для стилей можно создать файл `style.js`

Если внутри компонента мы будем использовать другой компонент, то мы создаем подпапку с такой же структурой.
В дальнейшем, если вдруг этот компонент понадобится где-то еще, мы можем перенести его вверх в папку `components`

```
- src

    - components

        - ComponentName

            - SubComponentName
                index.js
                SubComponentName.js
                style.css

          ComponentName.js
          style.js
          index.js
```

## Порядок импорта

Импорт стараемся группировать.
 - реакт
 - сторонние контексты/компоненты/хуки
 - наши контексты/компоненты/хуки
 - наши константы/конфиги/хэлперы
 - картинки/иконки
 - стили

 Например

```javascript
import React from 'react';

import { AppBar, Toolbar, Typography, InputBase } from '@material-ui/core';

import { SelectLanguages } from './components';

import SearchIcon from '@material-ui/icons/Search';

import useStyles from './style';
```

## Этапы разработки

1. В zenhub/github создаем задачу в issue либо берем себе готовую
2. Создаем ветку для решения этой задачи
3. В процессе решения могут появиться дополнительные задачи, их обязательно фиксируем в issue
4. Когда ветка готова, создаем пулреквест, в описании добавляем ссылки на все issue которые мы решили
5. Так же в файле changelog записываем все изменения текущей ветки вместе со ссылками на issue
6. Тестируем, исправляем баги
7. Мерджим

## Yalc
Необходим для добавления локальных пакетов без публикации в npm.

### Установка

Используя NPM:

`npm i yalc -g`

Используя Yarn:

`yarn global add yalc`

### Как использовать

1. Необходимо клонировать репозиторий (репо А), который нужен для присоединения.
2. В репо А нужно выполнить команду:
`yalc publish`
3. Зайти в репо B в необходимую ветку.
4. Выпонить команду:
`yalc add название-репо-B'`
5. `yarn && yarn start`

### Ошибки при запуске и их исправление(в основном на Windows)
#### Ошибка 1. После установки не запускается yalc
Выглядит так:

yalc : Имя "yalc" не распознано как имя командлета, функции, файла сценария или выполняемой программы.

Решение.
1. Выполнить `yarn global bin`.
2. Скопировать путь.
3. Зайти в службу "Изменение системных переменных среды" или "Свойства системы".
4. Вкладка "Дополнительно", кнопка "Переменные среды".
5. Выбрать переменную с названием Path, нажать "Изменить".
6. В открывшемся окне нажать "Создать" и вставить путь, скопированный на 2 шаге.
7. Запускаем `yarn global add yalc` и пользуемся

#### Ошибка 2. Не выполняется yalc publish.
Выглядит так:

"rm" не является внутренней или внешней командой...

Решение.
1. Установить `yarn add rimraf`.
2. В `package.json` поменять в строке

  "prepublishOnly": "rm -rf"

  на

  "prepublishOnly": "rimraf"

3. Запустить ещё раз `yalc publish`
